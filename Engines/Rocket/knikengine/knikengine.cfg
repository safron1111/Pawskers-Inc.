PART
{
    name = Kitty02ThrusterKnik
    module = Part
    author = JebMothman
    mesh = knikenginemodel.mu
    scale = 1
    rescaleFactor = 1
    node_stack_top = 0.0,1.465,0.0,0.0,1.0,0.0,1

    TechRequired = heavyRocketry
    entryCost = 7250
    cost = 7250
    category = Engine
    title = K-02 "Knik"
    manufacturer = Pawskers Inc.
    description = Retracts for atmospheric burning, and extends for vacuum burning!
    attachRules = 1,0,1,0,1

    mass = 2.1
    dragModelType = default
    maximum_drag = 0.2
    minimum_drag = 0.2
    angularDrag = 2
    crashTolerance = 8
    breakingForce = 200
    breakingTorque = 200
    maxTemp = 2000
    stagingIcon = LIQUID_ENGINE

    EFFECTS
    {
        running_closed_atmosphere
        {
            AUDIO
            {
                channel = Ship
                clip = sound_rocket_hard
                volume = 0.0 0.0
                volume = 1.0 5.0
                pitch = 0.0 0.2
                pitch = 1.0 1.0
                loop = true
            }
            PREFAB_PARTICLE
            {
                prefabName = fx_exhaustFlame_yellow
                transformName = smokePoint
                emission = 0.0 0.01
                emission = 0.05 0.05
                emission = 0.75 0.25
                emission = 1.0 1.25
                speed = 0.0 0.25
                speed = 0.5 0.5
                speed = 0.75 0.75
                speed = 1.0 1.25
            }
        }
        running_closed_vacuum
        {
            AUDIO
            {
                channel = Ship
                clip = sound_rocket_hard
                volume = 0.0 0.0
                volume = 1.0 5.0
                pitch = 0.0 0.2
                pitch = 1.0 1.0
                loop = true
            }
            PREFAB_PARTICLE
            {
                prefabName = fx_exhaustFlame_blue
                transformName = smokePoint
                emission = 0.0 0.01
                emission = 0.05 0.05
                emission = 0.75 0.25
                emission = 1.0 1.25
                speed = 0.0 0.25
                speed = 0.5 0.5
                speed = 0.75 0.75
                speed = 1.0 1.25
            }
        }
    }

    MODULE
    {
        name = ModuleMultiStateEngine
        EngineAnimationName = kniknozzlelegthen
        Layer = 2
        SpeedMultiplier = 1
        EngineIDAtTimeZero = knikatmo
    }

    MODULE
    {
        name = MultiModeEngine
        primaryEngineID = knikatmo
        secondaryEngineID = knikvacuum
    }

    MODULE
    {
        name = ModuleEnginesFX
        engineID = knikvacuum
        runningEffectName = running_closed_vacuum
        thrustVectorTransformName = thrustTransform
        exhaustDamage = True
        throttleLocked = False
        ignitionThreshold = 0.1
        minThrust = 0
        maxThrust = 400
        heatProduction = 350
        PROPELLANT
        {
            name = LiquidFuel
            ratio = 0.9
            DrawGauge = true
        }
        PROPELLANT
        {
            name = Oxidizer
            ratio = 1.1
        }
        atmosphereCurve
        {
            key = 0 380
            key = 1 200
        }
    }

    MODULE
    {
        name = ModuleEnginesFX
        engineID = knikatmo
        runningEffectName = running_closed_atmosphere
        thrustVectorTransformName = thrustTransform
        exhaustDamage = True
        throttleLocked = False
        ignitionThreshold = 0.1
        minThrust = 0
        maxThrust = 800
        heatProduction = 550
        PROPELLANT
        {
            name = LiquidFuel
            ratio = 0.9
            DrawGauge = true
        }
        PROPELLANT
        {
            name = Oxidizer
            ratio = 1.1
        }
        atmosphereCurve
        {
            key = 0 310
            key = 1 290
        }
    }

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = thrustTransform
        gimbalRange = 1
    }

    MODULE
    {
        name = ModuleAlternator
        RESOURCE
        {
            name = ElectricCharge
            rate = 3.0
        }
    }
}
